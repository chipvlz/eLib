var Datatable=function(){var t,e,a,n,o,r,c=!1,s={},i=function(){var e=$('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',a).size(),n=t.dataTable.language.metronicGroupActions;$(".table-group-actions > span",o).text(e>0?n.replace("_TOTAL_",e):"")};return{init:function(l){if($().dataTable){r=this,l=$.extend(!0,{src:"",filterApplyAction:"filter",filterCancelAction:"filter_cancel",resetGroupActionInputOnSuccess:!0,loadingMessage:"Đang tải...",dataTable:{dom:"<'tabletools'T><'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r><'table-scrollable't><'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>",pageLength:10,language:{metronicGroupActions:"Đã chọn _TOTAL_ mục:  ",metronicAjaxRequestGeneralError:"Không thể hoàn thành tác vụ. Vui lòng kiểm tra lại",lengthMenu:"<span class='seperator'>&nbsp;|&nbsp;</span>Xem _MENU_ mục",info:"<span class='seperator'>&nbsp;|&nbsp;</span>Hiển thị từ <i>_START_</i> đến <i>_END_</i> trong tổng số <i>_TOTAL_</i> mục",infoEmpty:"Không có dữ liệu",emptyTable:"Không có dữ liệu",zeroRecords:"Không có dữ liệu",paginate:{previous:"Trước",next:"Sau",last:"Cuối",first:"Đầu",page:"Trang",pageOf:"trong tổng số"}},tableTools:{sSwfPath:"../../assets/global/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf",aButtons:[{sExtends:"copy",sButtonText:"Sao chép",sCharSet:"utf16le"},{sExtends:"print",sButtonText:"In",sInfo:'Nhấn "Ctr+P" để in hoặc "ESC" để thoát',sMessage:"Generated by DataTables",sCharSet:"utf16le"},{sExtends:"collection",sButtonText:"Lưu lại",aButtons:["csv","xls","pdf"],sCharSet:"utf16le"}]},orderCellsTop:!0,columnDefs:[{orderable:!1,targets:[0]}],pagingType:"bootstrap_extended",autoWidth:!0,processing:!0,serverSide:!0,ajax:{url:"",type:"POST",timeout:2e4,data:function(e){$.each(s,function(t,a){e[t]=a}),Metronic.blockUI({message:t.loadingMessage,target:n,overlayColor:"none",cenrerY:!0,boxed:!0})},dataSrc:function(e){return e.customActionMessage&&Metronic.alert({type:"OK"==e.customActionStatus?"success":"danger",icon:"OK"==e.customActionStatus?"check":"warning",message:e.customActionMessage,container:o,place:"prepend"}),e.customActionStatus&&t.resetGroupActionInputOnSuccess&&$(".table-group-action-input",o).val(""),1===$(".group-checkable",a).size()&&($(".group-checkable",a).attr("checked",!1),$.uniform.update($(".group-checkable",a))),t.onSuccess&&t.onSuccess.call(void 0,r),Metronic.unblockUI(n),e.data},error:function(){t.onError&&t.onError.call(void 0,r),Metronic.alert({type:"danger",icon:"warning",message:t.dataTable.language.metronicAjaxRequestGeneralError,container:o,place:"prepend"}),Metronic.unblockUI(n)}},drawCallback:function(){c===!1&&(c=!0,a.show()),Metronic.initUniform($('input[type="checkbox"]',a)),i(),t.onDataLoad&&t.onDataLoad.call(void 0,r)}}},l),t=l,a=$(l.src),n=a.parents(".table-container");var u=$.fn.dataTableExt.oStdClasses;$.fn.dataTableExt.oStdClasses.sWrapper=$.fn.dataTableExt.oStdClasses.sWrapper+" dataTables_extended_wrapper",$.fn.dataTableExt.oStdClasses.sFilterInput="form-control input-small input-sm input-inline",$.fn.dataTableExt.oStdClasses.sLengthSelect="form-control input-xsmall input-sm input-inline",e=a.DataTable(l.dataTable),$.fn.dataTableExt.oStdClasses.sWrapper=u.sWrapper,$.fn.dataTableExt.oStdClasses.sFilterInput=u.sFilterInput,$.fn.dataTableExt.oStdClasses.sLengthSelect=u.sLengthSelect,o=a.parents(".dataTables_wrapper"),1===$(".table-actions-wrapper",n).size()&&($(".table-group-actions",o).html($(".table-actions-wrapper",n).html()),$(".table-actions-wrapper",n).remove()),$(".group-checkable",a).change(function(){var t=$('tbody > tr > td:nth-child(1) input[type="checkbox"]',a),e=$(this).is(":checked");$(t).each(function(){$(this).attr("checked",e)}),$.uniform.update(t),i()}),a.on("change",'tbody > tr > td:nth-child(1) input[type="checkbox"]',function(){i()}),a.on("click",".filter-submit",function(t){t.preventDefault(),r.submitFilter()}),a.on("click",".filter-cancel",function(t){t.preventDefault(),r.resetFilter()})}},submitFilter:function(){r.setAjaxParam("action",t.filterApplyAction),$('textarea.form-filter, select.form-filter, input.form-filter:not([type="radio"],[type="checkbox"])',a).each(function(){r.setAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="checkbox"]:checked',a).each(function(){r.addAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="radio"]:checked',a).each(function(){r.setAjaxParam($(this).attr("name"),$(this).val())}),e.ajax.reload()},resetFilter:function(){$("textarea.form-filter, select.form-filter, input.form-filter",a).each(function(){$(this).val("")}),$('input.form-filter[type="checkbox"]',a).each(function(){$(this).attr("checked",!1)}),r.clearAjaxParams(),r.addAjaxParam("action",t.filterCancelAction),e.ajax.reload()},getSelectedRowsCount:function(){return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',a).size()},getSelectedRows:function(){var t=[];return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',a).each(function(){t.push($(this).val())}),t},setAjaxParam:function(t,e){s[t]=e},addAjaxParam:function(t,e){s[t]||(s[t]=[]),skip=!1;for(var a=0;a<s[t].length;a++)s[t][a]===e&&(skip=!0);skip===!1&&s[t].push(e)},clearAjaxParams:function(){s={}},getDataTable:function(){return e},getTableWrapper:function(){return o},gettableContainer:function(){return n},getTable:function(){return a}}};